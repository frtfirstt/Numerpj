{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\first\\\\Desktop\\\\numerpj\\\\numerpj\\\\src\\\\code\\\\Linear\\\\Jacobi.js\";\nimport React, { Component } from 'react';\nimport { Menu, Input, Row, Col, Button, Card, Table } from 'antd';\nimport { Carousel } from 'antd';\nimport { Layout, Breadcrumb } from 'antd';\nimport { range, compile, lusolve, format, det, subtract, multiply, transpose, add, inv, fraction } from 'mathjs';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, Legend } from 'recharts';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content,\n  Footer,\n  Sider\n} = Layout;\nconst InputStyle = {\n  background: \"#f58216\",\n  color: \"white\",\n  fontWeight: \"bold\",\n  fontSize: \"24px\"\n};\nvar A = [],\n    B = [],\n    matrixA = [],\n    matrixB = [],\n    x,\n    epsilon,\n    dataInTable = [],\n    count = 1;\nvar columns = [{\n  title: \"Iteration\",\n  dataIndex: \"iteration\",\n  key: \"iteration\"\n}];\n\nclass Jacobi extends Component {\n  constructor() {\n    super();\n    this.state = {\n      row: 0,\n      column: 0,\n      showDimentionForm: true,\n      showDimentionButton: true,\n      showMatrixForm: false,\n      showMatrixButton: false,\n      showOutputCard: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.jacobi = this.jacobi.bind(this);\n  }\n\n  jacobi(n) {\n    this.initMatrix();\n    x = new Array(n);\n    var temp;\n    var stop = 0;\n    var xold = new Array(n);\n    epsilon = new Array(n);\n    x.fill(0);\n    xold.fill(0);\n\n    do {\n      temp = [];\n      xold = x;\n\n      for (var i = 0; i < n; i++) {\n        var sum = 0;\n\n        for (var j = 0; j < n; j++) {\n          if (i !== j) {\n            //else i == j That is a divide number\n            sum = sum + A[i][j] * x[j];\n          }\n        }\n\n        temp[i] = (B[i] - sum) / A[i][i]; //update x[i]\n      }\n\n      x = temp;\n      stop++;\n    } while (this.error(x, xold) && stop < 100); //if true , continue next iteration\n\n    /*\n    \n    for (i=0 ; i<x.length ; i++) {\n            output.push(x[i]);\n            output.push(<br/>);\n    }*/\n\n\n    this.setState({\n      showOutputCard: true\n    });\n  }\n\n  error(xnew, xold) {\n    for (var i = 0; i < xnew.length; i++) {\n      console.log(Math.abs((xnew[i] - xold[i]) / xnew[i]));\n\n      if (isNaN(Math.abs((xnew[i] - xold[i]) / xnew[i]))) {\n        epsilon[i] = 0;\n      } else {\n        epsilon[i] = Math.abs((xnew[i] - xold[i]) / xnew[i]);\n      }\n    }\n\n    this.appendTable(x, epsilon);\n\n    for (i = 0; i < epsilon.length; i++) {\n      if (epsilon[i] > 0.000001) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  createMatrix(row, column) {\n    for (var i = 1; i <= row; i++) {\n      for (var j = 1; j <= column; j++) {\n        matrixA.push( /*#__PURE__*/_jsxDEV(Input, {\n          style: {\n            width: \"18%\",\n            height: \"50%\",\n            marginInlineEnd: \"5%\",\n            marginBlockEnd: \"5%\",\n            color: \"black\",\n            fontSize: \"18px\",\n            fontWeight: \"bold\"\n          },\n          id: \"a\" + i + \"\" + j,\n          placeholder: \"a\" + i + \"\" + j\n        }, \"a\" + i + \"\" + j, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 30\n        }, this));\n      }\n\n      matrixA.push( /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 26\n      }, this));\n      matrixB.push( /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: \"18%\",\n          height: \"50%\",\n          marginInlineEnd: \"5%\",\n          marginBlockEnd: \"5%\",\n          color: \"black\",\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        id: \"b\" + i,\n        placeholder: \"b\" + i\n      }, \"b\" + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 26\n      }, this));\n    }\n\n    this.setState({\n      showDimentionForm: false,\n      showDimentionButton: false,\n      showMatrixForm: true,\n      showMatrixButton: true\n    });\n  }\n\n  initMatrix() {\n    for (var i = 0; i < this.state.row; i++) {\n      A[i] = [];\n\n      for (var j = 0; j < this.state.column; j++) {\n        A[i][j] = parseFloat(document.getElementById(\"a\" + (i + 1) + \"\" + (j + 1)).value);\n      }\n\n      B.push(parseFloat(document.getElementById(\"b\" + (i + 1)).value));\n    }\n  }\n\n  initialSchema(n) {\n    for (var i = 1; i <= n; i++) {\n      columns.push({\n        title: \"X\" + i,\n        dataIndex: \"x\" + i,\n        key: \"x\" + i\n      });\n    }\n\n    for (i = 1; i <= n; i++) {\n      columns.push({\n        title: \"Error\" + i,\n        dataIndex: \"error\" + i,\n        key: \"error\" + i\n      });\n    }\n  }\n\n  appendTable(x, error) {\n    var tag = '';\n    tag += '{\"iteration\": ' + count++ + ',';\n\n    for (var i = 0; i < x.length; i++) {\n      tag += '\"x' + (i + 1) + '\": ' + x[i].toFixed(8) + ', \"error' + (i + 1) + '\": ' + error[i].toFixed(8);\n\n      if (i !== x.length - 1) {\n        tag += ',';\n      }\n    }\n\n    tag += '}';\n    console.log(tag);\n    dataInTable.push(JSON.parse(tag));\n    console.log(dataInTable);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(Layout, {\n        children: /*#__PURE__*/_jsxDEV(Content, {\n          style: {\n            background: '#FFCC66',\n            padding: 24,\n            margin: 30,\n            minHeight: 280,\n            fontSize: 24\n          },\n          onChange: this.handleChange,\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            gutter: [40, 40],\n            onChange: this.handleChange,\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              span: 10,\n              offset: 7,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Row\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  size: \"large\",\n                  name: \"row\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Column\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  size: \"large\",\n                  name: \"column\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 52\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 33\n              }, this), this.state.showDimentionButton && /*#__PURE__*/_jsxDEV(Button, {\n                id: \"dimention_button\",\n                onClick: () => {\n                  this.createMatrix(this.state.row, this.state.column);\n                  this.initialSchema(this.state.row);\n                },\n                children: [\"Submit\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 47\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 37\n              }, this), this.state.showMatrixButton && /*#__PURE__*/_jsxDEV(Button, {\n                id: \"matrix_button\",\n                onClick: () => this.jacobi(parseInt(this.state.row)),\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            gutter: [40, 40],\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              offset: 4,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                title: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Matrix\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 44\n                }, this),\n                children: this.state.showMatrixForm && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: matrixA\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 67\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 8,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                title: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Vector\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 44\n                }, this),\n                children: this.state.showMatrixForm && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: matrixB\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 67\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            gutter: [2, 2],\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              span: 10,\n              offset: 7,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                title: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Outpot\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 44\n                }, this),\n                bordered: true,\n                onChange: this.handleChange,\n                id: \"answerCard\",\n                children: /*#__PURE__*/_jsxDEV(Table, {\n                  columns: columns,\n                  dataSource: dataInTable,\n                  bodyStyle: {\n                    fontWeight: \"bold\",\n                    fontSize: \"18px\",\n                    color: \"black\",\n                    overflowX: \"scroll\",\n                    border: \"2px solid white\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Jacobi;","map":{"version":3,"sources":["C:/Users/first/Desktop/numerpj/numerpj/src/code/Linear/Jacobi.js"],"names":["React","Component","Menu","Input","Row","Col","Button","Card","Table","Carousel","Layout","Breadcrumb","range","compile","lusolve","format","det","subtract","multiply","transpose","add","inv","fraction","LineChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","Legend","BrowserRouter","Router","Route","Link","Header","Content","Footer","Sider","InputStyle","background","color","fontWeight","fontSize","A","B","matrixA","matrixB","x","epsilon","dataInTable","count","columns","title","dataIndex","key","Jacobi","constructor","state","row","column","showDimentionForm","showDimentionButton","showMatrixForm","showMatrixButton","showOutputCard","handleChange","bind","jacobi","n","initMatrix","Array","temp","stop","xold","fill","i","sum","j","error","setState","xnew","length","console","log","Math","abs","isNaN","appendTable","createMatrix","push","width","height","marginInlineEnd","marginBlockEnd","parseFloat","document","getElementById","value","initialSchema","tag","toFixed","JSON","parse","event","target","name","render","padding","margin","minHeight","parseInt","overflowX","border"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nimport { Menu, Input, Row, Col, Button, Card, Table } from 'antd';\nimport { Carousel } from 'antd';\nimport { Layout, Breadcrumb } from 'antd';\nimport { range, compile, lusolve, format, det, subtract, multiply, transpose, add,inv,fraction } from 'mathjs';\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, Legend } from 'recharts';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nconst { Header, Content, Footer, Sider } = Layout;\nconst InputStyle = {\n    background: \"#f58216\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    fontSize: \"24px\"\n\n};\nvar A = [], B = [], matrixA = [], matrixB = [], x , epsilon, dataInTable = [], count=1;\nvar columns = [\n    {\n      title: \"Iteration\",\n      dataIndex: \"iteration\",\n      key: \"iteration\"\n    }\n];\n\nclass Jacobi extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            row: 0,\n            column: 0,\n            showDimentionForm : true,\n            showDimentionButton: true,\n            showMatrixForm: false,\n            showMatrixButton: false,\n            showOutputCard: false\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.jacobi = this.jacobi.bind(this);\n    \n    }\n\n  \n    jacobi(n) {\n        this.initMatrix();\n        x = new Array(n);\n        var temp;\n        var stop = 0;\n        var xold = new Array(n);\n        epsilon = new Array(n);\n        x.fill(0)\n        xold.fill(0);\n        do {\n            temp = [];\n            xold = x;\n            for (var i=0 ; i<n ; i++) {\n                var sum = 0;\n                for (var j=0 ; j<n ; j++) {\n                    if (i !== j) { //else i == j That is a divide number\n                        sum = sum + A[i][j]*x[j];\n                    }\n                }\n                temp[i] = (B[i] - sum)/A[i][i]; //update x[i]\n                \n            }        \n            x = temp;\n            stop++;\n        } while(this.error(x, xold) && stop<100); //if true , continue next iteration\n        /*\n        \n        for (i=0 ; i<x.length ; i++) {\n                output.push(x[i]);\n                output.push(<br/>);\n        }*/\n        this.setState({\n            showOutputCard: true\n        });\n\n      \n    }\n    error(xnew, xold) {\n        for (var i=0 ; i<xnew.length ; i++) {\n            console.log(Math.abs((xnew[i]-xold[i]) / xnew[i]))\n            if(isNaN(Math.abs((xnew[i]-xold[i]) / xnew[i]))){\n                epsilon[i] = 0\n            }\n            else{\n                epsilon[i] = Math.abs((xnew[i]-xold[i]) / xnew[i])\n            }\n        }\n        \n        this.appendTable(x, epsilon);\n\n        for (i=0 ; i<epsilon.length ; i++) {\n            \n            if (epsilon[i] > 0.000001) {\n                return true;\n            }    \n        }\n        return false;  \n    }   \n    createMatrix(row, column) {\n        for (var i=1 ; i<=row ; i++) {\n            for (var j=1 ; j<=column ; j++) {\n                matrixA.push(<Input style={{\n                    width: \"18%\",\n                    height: \"50%\", \n\n                    marginInlineEnd: \"5%\", \n                    marginBlockEnd: \"5%\",\n                    color: \"black\",\n                    fontSize: \"18px\",\n                    fontWeight: \"bold\"\n                }} \n                id={\"a\"+i+\"\"+j} key={\"a\"+i+\"\"+j} placeholder={\"a\"+i+\"\"+j} />)  \n            }\n            matrixA.push(<br/>)\n            matrixB.push(<Input style={{\n                width: \"18%\",\n                height: \"50%\", \n                marginInlineEnd: \"5%\", \n                marginBlockEnd: \"5%\",\n                color: \"black\",\n                fontSize: \"18px\",\n                fontWeight: \"bold\"\n            }} \n            id={\"b\"+i} key={\"b\"+i} placeholder={\"b\"+i} />)\n                \n            \n        }\n\n        this.setState({\n            showDimentionForm: false,\n            showDimentionButton: false,\n            showMatrixForm: true,\n            showMatrixButton: true\n        })\n\n        \n\n    }\n    initMatrix() {\n        for(var i=0 ; i<this.state.row ; i++) {\n            A[i] = []\n            for(var j=0 ; j<this.state.column ; j++) {\n                A[i][j] = (parseFloat(document.getElementById(\"a\"+(i+1)+\"\"+(j+1)).value));\n            }\n            B.push(parseFloat(document.getElementById(\"b\"+(i+1)).value));\n        }\n    }\n    initialSchema(n) {\n        for (var i=1 ; i<=n ; i++) {\n            columns.push({\n                title: \"X\"+i,\n                dataIndex: \"x\"+i,\n                key: \"x\"+i\n            },)\n        }\n        for (i=1 ; i<=n ; i++) {\n            columns.push({\n                title: \"Error\"+i,\n                dataIndex: \"error\"+i,\n                key: \"error\"+i\n            },)\n        }\n    }\n    appendTable(x, error) {\n        var tag = ''\n        tag += '{\"iteration\": ' + (count++) + ',';\n        for (var i=0 ; i<x.length ; i++) {\n            tag += '\"x'+(i+1)+'\": '+x[i].toFixed(8)+', \"error'+(i+1)+'\": ' + error[i].toFixed(8);\n            if (i !== x.length-1) {\n                tag += ','\n            }\n        }\n        tag += '}';\n        console.log(tag)\n        dataInTable.push(JSON.parse(tag));\n        console.log(dataInTable)\n    }\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    render() {\n        return (\n            <Router>\n                <Layout>\n                    <Content\n                        style={{\n                            background: '#FFCC66',\n                            padding: 24,\n                            margin: 30,\n                            minHeight: 280,\n                            fontSize: 24\n                        }}\n                        onChange={this.handleChange}\n                    >\n\n                        {/*-----------------------------------------ปุ่มINPUTสมการ----------------------------------------------------*/}\n                        <Row gutter={[40, 40]}\n                            \n                            onChange={this.handleChange}\n                        >\n                            <Col span={10} offset={7}>\n\n                                <div>\n                                    <h2>Row</h2><Input size=\"large\" name=\"row\" ></Input>\n                                    <h2>Column</h2><Input size=\"large\" name=\"column\" ></Input>\n                                </div>\n                                {this.state.showDimentionButton &&\n                                    <Button id=\"dimention_button\" onClick={\n                                        ()=>{this.createMatrix(this.state.row, this.state.column);this.initialSchema(this.state.row)}\n                                    }\n                                    >\n                                        Submit<br></br>\n                                    </Button>\n                                }\n\n                                {this.state.showMatrixButton &&\n                                    <Button\n                                        id=\"matrix_button\"\n                                        onClick={()=>this.jacobi(parseInt(this.state.row))}>\n                                        Submit\n                                    </Button>\n                                }\n                            </Col>\n                        </Row>\n                        <Row gutter={[40, 40]}>\n                            <Col span={8} offset={4}>\n                                <Card\n                                    title={<h3>Matrix</h3>}\n                                >\n                                    {this.state.showMatrixForm && <div>{matrixA}</div>}\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card\n                                    title={<h3>Vector</h3>}\n                                >\n                                    {this.state.showMatrixForm && <div>{matrixB}</div>}\n                                </Card>\n                            </Col>\n                        </Row>\n                        <br></br>\n\n                        {/*---------------------------------------------------------------------------------------------*/}\n                        <Row gutter={[2, 2]}>\n                            <Col span={10} offset={7}>\n                                <Card\n                                    title={<h3>Outpot</h3>}\n                                    bordered={true}\n                                    onChange={this.handleChange} id=\"answerCard\">\n                                    <Table columns={columns}  dataSource={dataInTable} bodyStyle={{fontWeight: \"bold\", fontSize: \"18px\", color: \"black\", overflowX: \"scroll\", border:\"2px solid white\"}}\n                            ></Table>\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Content>\n                </Layout>\n            </Router>\n        );\n    }\n}\nexport default Jacobi;"]},"metadata":{},"sourceType":"module"}